angular.module("angular-pd.templates",[]).run(["$templateCache",function(e){e.put("apd.html",'<div class=apd_root><select ng-model=data.selected.day ng-options="day for day in data.days" ng-init="data.selected.day = data.days[0]" id={{::apdDayId}} class="apd_elem apd_select_day apd_select {{::apdDayClasses}}"></select><span title={{getDayOfWeekName(data.selected.dayOfWeek)}} ng-bind=getDayOfWeekShortName(data.selected.dayOfWeek) class="apd_elem apd_day_of_week"></span><select ng-model=data.selected.month ng-options="(month + 1) for month in data.month" ng-init="data.selected.month = data.month[0]" id={{::apdMonthId}} class="apd_elem apd_select_month apd_select {{::apdMonthClasses}}"></select><select ng-model=data.selected.year ng-options="year for year in data.years" ng-init="data.selected.year = data.years[0]" id={{::apdYearId}} class="apd_elem apd_select_year apd_select {{::apdYearClasses}}"></select></div>')}]),angular.module("angular-pd",["angular-pd.datepicker"]).constant("MESSAGES",{invalidParams:"Invalid params"});var apd;!function(e){var a;!function(e){"use strict";var a=function(){function e(e,a,t,n,d,r){this.day=e,this.dayOfWeek=a,this.month=t,this.year=n,this.datetime=d,this.timezone=r}return e}(),t=function(){function e(e,a,t){this.selected=e,this.days=a,this.month=[0,1,2,3,4,5,6,7,8,9,10,11],this.years=t}return e}(),n=function(){function e(e,a){this.name=e,this["short"]=a}return e}(),d=function(){function e(e){var a=this;this.getListOfShorts=function(){for(var e=[],t=0;t<a.list.length;t++){var n=a.list[t];e.push(n["short"])}return e},this.getListOfNames=function(){for(var e=[],t=0;t<a.list.length;t++){var n=a.list[t];e.push(n.name)}return e},this.getDayOfWeekShortName=function(e){return a.shorts[e]},this.getDayOfWeekName=function(e){return a.names[e]},this.list=e,this.shorts=this.getListOfShorts(),this.names=this.getListOfNames()}return e}(),r=new d([new n("Sunday","Sun"),new n("Monday","Mon"),new n("Tuesday","Tue"),new n("Wednesday","Wed"),new n("Thursday","Thu"),new n("Friday","Fri"),new n("Saturday","Sat")]);angular.module("angular-pd.datepicker",["angular-pd.templates"]).directive("pureDatepicker",["MESSAGES",function(e){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdDayId:"@?",apdMonthId:"@?",apdYearId:"@?",apdDayClasses:"@?",apdMonthClasses:"@?",apdYearClasses:"@?"},link:function(n){function d(e){console.error(e)}function s(e){d(D.invalidDateModel+': error on field "'+e+'+"')}function i(e){var a={day:"day",dayOfWeek:"dayOfWeek",month:"month",year:"year",datetime:"datetime",timezone:"timezone"};return e[a.day]?e[a.dayOfWeek]||0===e[a.dayOfWeek]?e[a.month]||0===e[a.month]?e[a.year]?e[a.datetime]?e[a.timezone]||0===e[a.timezone]?!0:(s(a.timezone),!1):(s(a.datetime),!1):(s(a.year),!1):(s(a.month),!1):(s(a.dayOfWeek),!1):(s(a.day),!1)}function o(e){for(var a in e)e.hasOwnProperty(a)&&(e[a]=+e[a]);return e}function l(){var e=i(n.ngModel);if(e)return o(n.ngModel);var t=new Date,d=t.getDate(),r=t.getMonth(),s=t.getFullYear(),l=t.getTime(),c=t.getDay(),u=t.getTimezoneOffset();return new a(d,c,r,s,l,u)}function c(){return[(new Date).getFullYear()-3,(new Date).getFullYear()-2,(new Date).getFullYear()-1,(new Date).getFullYear()]}function u(e,a){return new Date(a,e+1,0).getDate()}function m(a,t){return!a&&0!==a||!t?console.error(e.invalidParams):y(u(a,t))}function y(a){return a||0===a?a?y(a-1).concat(a):[]:console.error(e.invalidParams)}function h(a,t){return!a&&0!==a||!t?console.error(e.invalidParams):void(n.data.days=m(a,t))}function f(a,t,d){if(!a||!t&&0!==t||!d)return console.error(e.invalidParams);var r=new Date(a,t,d),s=u(t,a);n.data.selected.day>s&&(n.data.selected.day=s),n.data.selected.dayOfWeek=r.getDay(),n.data.selected.datetime=1e3*r.getTime()}console.log(n.ngModel);var p=l(),g=c(),v=m(p.month,p.year);n.data=new t(p,v,g);var D={invalidParams:"Invalid params",invalidDateModel:"Invalid date model"};n.$watch("data.selected.day",function(e){e&&f(n.data.selected.year,n.data.selected.month,n.data.selected.day)}),n.$watch("data.selected.month",function(e){(e||0===e)&&(h(n.data.selected.month,n.data.selected.year),f(n.data.selected.year,n.data.selected.month,n.data.selected.day))}),n.$watch("data.selected.year",function(e){e&&(h(n.data.selected.month,n.data.selected.year),f(n.data.selected.year,n.data.selected.month,n.data.selected.day))}),n.getDayOfWeekShortName=r.getDayOfWeekShortName,n.getDayOfWeekName=r.getDayOfWeekName}}}])}(a=e.directive||(e.directive={}))}(apd||(apd={}));
//# sourceMappingURL=angular-pure-datepicker.min.js.map