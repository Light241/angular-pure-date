angular.module("angular-pd.templates",[]).run(["$templateCache",function(t){t.put("apd.html",'<div class=apd_root><select ng-model=data.selected.day ng-options="day for day in data.list.d" ng-init="data.selected.day = data.list.d[0]" ng-change=onDaySelectChanged(data.selected.day) id={{::apdDayId}} class="apd_elem apd_select_day apd_select {{::apdDayClasses}}"></select><span ng-bind=daysList[data.selected.dayOfWeek] class="apd_elem apd_day_of_week"></span><select ng-model=data.selected.month ng-options="monthList[month] for month in data.list.m" ng-init="data.selected.month = data.list.m[0]" ng-change=onMonthSelectChanged(data.selected.month) id={{::apdMonthId}} class="apd_elem apd_select_month apd_select {{::apdMonthClasses}}"></select><select ng-model=data.selected.year ng-options="year for year in data.list.y" ng-init="data.selected.year = data.list.y[0]" ng-change=onYearSelectChanged(data.selected.year) id={{::apdYearId}} class="apd_elem apd_select_year apd_select {{::apdYearClasses}}"></select></div>')}]);var Config={isUtc:!1,monthDirection:"asc",daysDirection:"asc",yearsDirection:"desc",daysList:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthList:["January","February","March","April","May","June","July","August","September","October","November","December"]},CommonUtils=function(){"use strict";var t={isValidNumber:function(t){var e=!isNaN(t),a=isFinite(t);return e&&a},getArrayOfNumbers:function(t,e){for(var a=[],n=t;e>=n;n++)a.push(n);return a},intArraySort:function(t,e){function a(t,e){return e-t}switch(e){default:return t.sort(function(t,e){return t-e});case"desc":return t.sort(a)}},getIntArr:function(e){return e||0===e?e?t._getIntArr(e-1).concat(e):[]:void 0}};return t}(),DateUtils=function(t){"use strict";function e(t,e){var a=new Date(t);return e.call(a)}var a={getDay:function(a){var n=t.isUTC?Date.prototype.getUTCDate:Date.prototype.getDate;return e(a,n)},getDayOfWeek:function(a){var n=t.isUTC?Date.prototype.getUTCDay:Date.prototype.getDay;return e(a,n)},getYear:function(a){var n=t.isUTC?Date.prototype.getUTCFullYear:Date.prototype.getFullYear;return e(a,n)},getMonth:function(a){var n=t.isUTC?Date.prototype.getUTCMonth:Date.prototype.getMonth;return e(a,n)},getDaysInMonth:function(t,e){return new Date(e,t+1,0).getDate()},isValidModel:function(t){return!(!t||!t.datetime&&0!==t.datetime)},isDateUpperStartLimit:function(t,e){return e?t>e:!0},isDateLowerEndLimit:function(t,e){return e?e>t:!0},isDateBetweenLimits:function(t,e,n){return a.isDateUpperStartLimit(t,e)&&a.isDateLowerEndLimit(t,n)}};return a}(Config),LimitsModel=function(t){"use strict";function e(e,a){function n(e){return s.start.d=t.getDay(e),s.start.m=t.getMonth(e),s.start.y=t.getYear(e),s.start.dt=e,this}function r(e){return s.end.d=t.getDay(e),s.end.m=t.getMonth(e),s.end.y=t.getYear(e),s.end.dt=e,this}function i(){var e=(new Date).getTime();return s.now.d=t.getDay(e),s.now.m=t.getMonth(e),s.now.y=t.getYear(e),s.now.dt=e,this}var s={start:{},end:{},now:{}};return n(e),r(a),i(),s}return e}(DateUtils),DateModel=function(t){"use strict";function e(e){return this.day=t.getDay(e),this.dayOfWeek=t.getDayOfWeek(e),this.month=t.getMonth(e),this.year=t.getYear(e),this.datetime=e,this.timezone=new Date(e).getTimezoneOffset(),this}return e}(DateUtils),YearsUtils=function(t,e,a){"use strict";var n={getYearsList:function(n,r,i,s){var d=[],o=10,l=s.start.y,u=s.end.y,c=s.now.y,m=t.getYear(i.dt),g=m>c?m:c,y=c>m?m:c;return g+=o-1,y-=o-1,n&&r&&r>n?d=e.getArrayOfNumbers(l,u):n&&r&&n>r?d=e.getArrayOfNumbers(u,l):n&&r&&n===r?d=e.getArrayOfNumbers(l,u):n&&!r?d=e.getArrayOfNumbers(l,g):!n&&r?s.end.y>=s.now.y?d=y-o>u-o?e.getArrayOfNumbers(y,u):e.getArrayOfNumbers(u-(o-1),u):s.end.y>s.now.y&&(d=e.getArrayOfNumbers(u-(o-1),u)):n||r||(d=e.getArrayOfNumbers(y,g)),e.intArraySort(d,a.yearsListDirection)}};return n}(DateUtils,CommonUtils,Config),MonthUtils=function(t,e,a,n){"use strict";var r={getMonthList:function(e,r,i){var s,d=0,o=11;if(e||r){var l=e?t.start.y===i:!1,u=r?t.end.y===i:!1,c=e?t.start.m:d,m=r?t.end.m:o;s=l&&u?a.getArrayOfNumbers(c,m):l&&!u?a.getArrayOfNumbers(c,o):!l&&u?a.getArrayOfNumbers(d,m):a.getArrayOfNumbers(d,o)}else s=a.getArrayOfNumbers(d,o);return a.intArraySort(s,n.monthListDirection)}};return r}(LimitsModel,DateUtils,CommonUtils,Config),DaysUtils=function(t,e,a,n){"use strict";var r={getDaysList:function(r,i,s,d){var o,l=1,u=e.getDaysInMonth(d,s);if(r||i){var c=r?t.start.y===s:!1,m=i?t.end.y===s:!1,g=r?t.start.m===d:!1,y=i?t.end.m===d:!1,f=c&&g,D=m&&y,p=r?t.start.d:l,h=i?t.end.d:u;o=f&&D?a.getArrayOfNumbers(p,h):f&&!D?a.getArrayOfNumbers(p,u):!f&&D?a.getArrayOfNumbers(l,h):a.getArrayOfNumbers(l,u)}else o=a.getArrayOfNumbers(l,u);return a.intArraySort(o,n.daysListDirection)}};return r}(LimitsModel,DateUtils,CommonUtils,Config),DataClass=function(t,e,a,n,r,i){"use strict";function s(t,e,a){var n,r=t.datetime>e,s=t.datetime===e,d=t.datetime>a,o=t.datetime===a;return n=new i(r||s||d||o?t.datetime:r?r?(new Date).getTime():a:e)}return function(i,d,o){var l={_start:null,_end:null,_limitDates:null},u={selected:{},list:{y:null,m:null,d:null},reloadYearsList:function(){return u.list.y=a.getYearsList(l._start,l._end),this},reloadMonthList:function(){var e=t.getYear(u.selected.dt);return u.list.m=n.getMonthList(l._start,l._end,e),this},reloadDaysList:function(){var e=t.getYear(u.selected.dt),a=t.getMonth(u.selected.dt);return u.list.d=r.getDaysList(l._start,l._end,e,a),this}};i.datetime=e.isValidNumber(i.datetime)?i.datetime:null,d=e.isValidNumber(d)?d:null,o=e.isValidNumber(o)?o:null,u.selected=s(i,d,o);var c=t.getYear(u.selected.datetime),m=t.getMonth(u.selected.datetime);return l._limitDates=new LimitsModel(d,o),l._start=d,l._end=o,u.list.y=a.getYearsList(d,o,u.selected,l._limitDates),u.list.m=n.getMonthList(d,o,c,l._limitDates),u.list.d=r.getDaysList(d,o,c,m,u.selected,l._limitDates),u}}(DateUtils,CommonUtils,YearsUtils,MonthUtils,DaysUtils,DateModel),angularView=function(t,e,a){"use strict";angular.module("angular-pd",["angular-pd.templates"]).directive("pureDatepicker",function(){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdStart:"=?",apdEnd:"=?",apdDayId:"@?",apdMonthId:"@?",apdYearId:"@?",apdDayClasses:"@?",apdMonthClasses:"@?",apdYearClasses:"@?",apdLocalization:"=?",apdIsUtc:"=?"},link:function(n){function r(e,a,n){var r=new Date(n,a,e).getTime();return t.isDateBetweenLimits(r,l.startDateTime,l.endDateTime)||(t.isDateUpperStartLimit(r,l.startDateTime)?t.isDateLowerEndLimit(r,l.endDateTime)||(r=l.endDateTime):r=l.startDateTime),r}function i(t){u.stop(),n.data.selected=new DateModel(t),n.ngModel=n.data.selected,u.start(s)}function s(e,a){if(e!==a){var s=t.getDay(e),d=t.getMonth(e),o=t.getYear(e);e=r(s,d,o),i(e),n.data.reloadYearsList(),n.data.reloadMonthList(),n.data.reloadDaysList()}}function d(e){var a,n=t.isValidModel(e);a=n?e.datetime:(new Date).getTime();var i=t.getDay(a),s=t.getMonth(a),d=t.getYear(a),o=r(i,s,d);return new DateModel(o)}function o(t,a,r){n.data=new e(t,a,r),n.ngModel=n.data.selected}n.apdIsUtc=n.apdIsUtc||!1;var l={initDateModel:null,startDateTime:null,endDateTime:null},u={handler:null,start:function(t){u.handler=n.$watch("ngModel.datetime",function(e,a){t&&t(e,a)},!0)},stop:function(){return u.handler(),!0}};n.onDaySelectChanged=function(t){if(t){var e=r(n.data.selected.day,n.data.selected.month,n.data.selected.year);i(e)}},n.onMonthSelectChanged=function(t){if(t||0===t){var e,a=n.data.selected.year,s=n.data.selected.day;e=r(s,t,a),i(e),n.data.reloadDaysList()}},n.onYearSelectChanged=function(t){if(t||0===t){var e=n.data.selected.month,a=n.data.selected.day,s=r(a,e,t);i(s),n.data.reloadMonthList(),n.data.reloadDaysList()}},function(){l.startDateTime=n.apdStart?+n.apdStart:null,l.endDateTime=n.apdEnd?+n.apdEnd:null,l.initDateModel=d(n.ngModel),o(l.initDateModel,l.startDateTime,l.endDateTime);n.apdLocalization||null;n.daysList=a.daysList,n.monthList=a.monthList,u.start(s)}()}}})}(DateUtils,DataClass,Config);
//# sourceMappingURL=angular-pure-datepicker.min.js.map