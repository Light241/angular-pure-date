angular.module("angular-pd.templates",[]).run(["$templateCache",function(t){t.put("apd.html",'<div class=apd_root><select ng-model=data.selected.day ng-options="day for day in data.days" ng-init="data.selected.day = data.days[0]" ng-change=onDaySelectChanged(data.selected.day) id={{::apdDayId}} class="apd_elem apd_select_day apd_select {{::apdDayClasses}}"></select><span ng-bind=getDayName(data.selected.dayOfWeek) class="apd_elem apd_day_of_week"></span><select ng-model=data.selected.month ng-options="getMonthName(month) for month in data.month" ng-init="data.selected.month = data.month[0]" ng-change=onMonthSelectChanged(data.selected.month) id={{::apdMonthId}} class="apd_elem apd_select_month apd_select {{::apdMonthClasses}}"></select><select ng-model=data.selected.year ng-options="year for year in data.years" ng-init="data.selected.year = data.years[0]" ng-change=onYearSelectChanged(data.selected.year) id={{::apdYearId}} class="apd_elem apd_select_year apd_select {{::apdYearClasses}}"></select></div>')}]);var Settings={isUtc:!1,monthDirection:"asc",daysDirection:"asc",yearsDirection:"desc",daysList:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthList:["January","February","March","April","May","June","July","August","September","October","November","December"]},CommonUtils=function(){"use strict";var t={isValidNumber:function(t){var e=!isNaN(t),a=isFinite(t);return e&&a},getArrayOfNumbers:function(t){for(var e=[],a=t;a<=end;a++)e.push(a);return e},intArraySort:function(t,e){function a(t,e){return e-t}switch(e){default:return t.sort(function(t,e){return t-e});case"desc":return t.sort(a)}},getIntArr:function(e){return e||0===e?e?t._getIntArr(e-1).concat(e):[]:void 0}};return t}(),DateUtils=function(t){"use strict";function e(t,e){var a=new Date(t);return e.call(a)}var a={getDay:function(a){var n=t.isUTC?Date.prototype.getUTCDate:Date.prototype.getDate;return e(a,n)},getDayOfWeek:function(a){var n=t.isUTC?Date.prototype.getUTCDay:Date.prototype.getDay;return e(a,n)},getYear:function(a){var n=t.isUTC?Date.prototype.getUTCFullYear:Date.prototype.getFullYear;return e(a,n)},getMonth:function(a){var n=t.isUTC?Date.prototype.getUTCMonth:Date.prototype.getMonth;return e(a,n)},getDaysInMonth:function(t,e){return new Date(e,t+1,0).getDate()},isValidModel:function(t){return!(!t||!t.datetime&&0!==t.datetime)},isDateUpperStartLimit:function(t,e){return e?t>e:!0},isDateLowerEndLimit:function(t,e){return e?e>t:!0},isDateBetweenLimits:function(t,e,n){return a.isDateUpperStartLimit(t,e)&&a.isDateLowerEndLimit(t,n)}};return a}(Settings),LimitsModel=function(t){"use strict";function e(e,a){function n(e){return i.start.d=t.getDay(e),i.start.m=t.getMonth(e),i.start.y=t.getYear(e),i.start.dt=e,this}function r(e){return i.end.d=t.getDay(e),i.end.m=t.getMonth(e),i.end.y=t.getYear(e),i.end.dt=e,this}function s(){var e=(new Date).getTime();return i.now.d=t.getDay(e),i.now.m=t.getMonth(e),i.now.y=t.getYear(e),i.now.dt=e,this}var i={start:{},end:{},now:{}};return n(e),r(a),s(),i}return e}(DateUtils),DateModel=function(t){"use strict";function e(e){return this.day=t.getDay(e),this.dayOfWeek=t.getDayOfWeek(e),this.month=t.getMonth(e),this.year=t.getYear(e),this.datetime=e,this.timezone=new Date(e).getTimezoneOffset(),this}return e}(DateUtils),YearsUtils=function(t,e,a){"use strict";var n={getYearsList:function(n,r){var s=[],i=10,d=t.startDate.year,o=t.endDate.year,l=t.nowDate.year,c=e.getYear(this.selected.datetime),u=c>l?c:l,m=l>c?c:l;return u+=i-1,m-=i-1,n&&r&&r>n?s=a.getArrayOfNumbers(d,o):n&&r&&n>r?s=a.getArrayOfNumbers(o,d):n&&r&&n===r?s=a.getArrayOfNumbers(d,o):n&&!r?s=a.getArrayOfNumbers(d,u):!n&&r?t.endDate.year>=t.nowDate.year?s=m-i>o-i?a.getArrayOfNumbers(m,o):a.getArrayOfNumbers(o-(i-1),o):t.endDate.year>t.nowDate.year&&(s=a.getArrayOfNumbers(o-(i-1),o)):n||r||(s=a.getArrayOfNumbers(m,u)),a.intArraySort(s,Settings.yearsListDirection)}};return n}(LimitsModel,DateUtils,CommonUtils),MonthUtils=function(t,e,a){"use strict";var n={getMonthList:function(e,n,r){var s,i=0,d=11;if(e||n){var o=e?t.startDate.year===r:!1,l=n?t.endDate.year===r:!1,c=e?t.startDate.month:i,u=n?t.endDate.month:d;s=o&&l?a.getArrayOfNumbers(c,u):o&&!l?a.getArrayOfNumbers(c,d):!o&&l?a.getArrayOfNumbers(i,u):a.getArrayOfNumbers(i,d)}else s=a.getArrayOfNumbers(i,d);return a.intArraySort(s,Settings.monthListDirection)}};return n}(LimitsModel,DateUtils,CommonUtils),DaysUtils=function(t,e,a){"use strict";var n={getDaysList:function(e,n,r,s){var i,d=1,o=DataClass.getDaysInMonth(s,r);if(e||n){var l=e?t.startDate.year===r:!1,c=n?t.endDate.year===r:!1,u=e?t.startDate.month===s:!1,m=n?t.endDate.month===s:!1,g=l&&u,D=c&&m,y=e?t.startDate.day:d,h=n?t.endDate.day:o;i=g&&D?a.getArrayOfNumbers(y,h):g&&!D?a.getArrayOfNumbers(y,o):!g&&D?a.getArrayOfNumbers(d,h):a.getArrayOfNumbers(d,o)}else i=a.getArrayOfNumbers(d,o);return a.intArraySort(i,Settings.daysListDirection)}};return n}(LimitsModel,DateUtils,CommonUtils),DataClass=function(t,e,a,n,r,s){_getSelected=function(t,e,a){var n,r=t.datetime>e,i=t.datetime===e,d=t.datetime>a,o=t.datetime===a;return n=new s(r||i||d||o?t.datetime:r?r?(new Date).getTime():a:e)},reloadYearsList=function(){return this.years=a.getYearsList(this._startDateTime,this._endDateTime),this},reloadMonthList=function(){var e=t.getYear(this.selected.datetime);return this.month=n.getMonthList(this._startDateTime,this._endDateTime,e),this},reloadDaysList=function(){var e=t.getYear(this.selected.datetime),a=t.getMonth(this.selected.datetime);return this.days=r.getDaysList(this._startDateTime,this._endDateTime,e,a),this}}(DateUtils,CommonUtils,YearsUtils,MonthUtils,DaysUtils,DateModel),angularView=function(t){"use strict";angular.module("angular-pd",["angular-pd.templates"]).directive("pureDatepicker",function(){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdStart:"=?",apdEnd:"=?",apdDayId:"@?",apdMonthId:"@?",apdYearId:"@?",apdDayClasses:"@?",apdMonthClasses:"@?",apdYearClasses:"@?",apdLocalization:"=?",apdIsUtc:"=?"},link:function(e){function a(e,a,n){var r=new Date(n,a,e).getTime();return t.isDateBetweenLimits(r,d.startDateTime,d.endDateTime)||(t.isDateUpperStartLimit(r,d.startDateTime)?t.isDateLowerEndLimit(r,d.endDateTime)||(r=d.endDateTime):r=d.startDateTime),r}function n(t){o.stop(),e.data.selected=new DateModel(t,e.apdIsUtc),e.ngModel=e.data.selected,o.start(r)}function r(r,s){if(r!==s){var i=t.getDay(r,e.apdIsUtc),d=t.getMonth(r,e.apdIsUtc),o=t.getYear(r,e.apdIsUtc);r=a(i,d,o),n(r),e.data.reloadYearsList(),e.data.reloadMonthList(),e.data.reloadDaysList()}}function s(n){var r,s=t.isValidModel(n);r=s?n.datetime:(new Date).getTime();var i=t.getDay(r,e.apdIsUtc),d=t.getMonth(r,e.apdIsUtc),o=t.getYear(r,e.apdIsUtc),l=a(i,d,o);return new DateModel(l,e.apdIsUtc)}function i(t,a,n){e.data=new DataClass(t,a,n,e.apdIsUtc),e.ngModel=e.data.selected}e.apdIsUtc=e.apdIsUtc||!1;var d={initDateModel:null,startDateTime:null,endDateTime:null},o={handler:null,start:function(t){o.handler=e.$watch("ngModel.datetime",function(e,a){t&&t(e,a)},!0)},stop:function(){return o.handler(),!0}};e.onDaySelectChanged=function(t){if(t){var r=a(e.data.selected.day,e.data.selected.month,e.data.selected.year);n(r)}},e.onMonthSelectChanged=function(t){if(t||0===t){var r,s=e.data.selected.year,i=e.data.selected.day;r=a(i,t,s),n(r),e.data.reloadDaysList()}},e.onYearSelectChanged=function(t){if(t||0===t){var r=e.data.selected.month,s=e.data.selected.day,i=a(s,r,t);n(i),e.data.reloadMonthList(),e.data.reloadDaysList()}},function(){d.startDateTime=e.apdStart?+e.apdStart:null,d.endDateTime=e.apdEnd?+e.apdEnd:null,d.initDateModel=s(e.ngModel),i(d.initDateModel,d.startDateTime,d.endDateTime);e.apdLocalization||null;e.getDayName=week.getName,e.getMonthName=year.getName,o.start(r)}()}}})}(DateUtils);
//# sourceMappingURL=angular-pure-datepicker.min.js.map