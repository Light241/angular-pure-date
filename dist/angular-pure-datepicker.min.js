angular.module("angular-pd.templates",[]).run(["$templateCache",function(t){t.put("apd.html",'<div class=apd_root><select ng-model=data.selected.day ng-options="day for day in data.days" ng-init="data.selected.day = data.days[0]" ng-change=onDaySelectChanged(data.selected.day) id={{::apdDayId}} class="apd_elem apd_select_day apd_select {{::apdDayClasses}}"></select><span ng-bind=getDayName(data.selected.dayOfWeek) class="apd_elem apd_day_of_week"></span><select ng-model=data.selected.month ng-options="getMonthName(month) for month in data.month" ng-init="data.selected.month = data.month[0]" ng-change=onMonthSelectChanged(data.selected.month) id={{::apdMonthId}} class="apd_elem apd_select_month apd_select {{::apdMonthClasses}}"></select><select ng-model=data.selected.year ng-options="year for year in data.years" ng-init="data.selected.year = data.years[0]" ng-change=onYearSelectChanged(data.selected.year) id={{::apdYearId}} class="apd_elem apd_select_year apd_select {{::apdYearClasses}}"></select></div>')}]);var apd;!function(t){var e;!function(t){"use strict";var e=function(){function t(e){var a=this;return this._setDefault=function(){return new t(["January","February","March","April","May","June","July","August","September","October","November","December"])},this.getName=function(t){return a.month[t]},e?(this.month=e,this):this._setDefault()}return t}();t.MonthClass=e}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(t){"use strict";var e=function(){function t(e){var a=this;return this._setDefault=function(){return new t(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])},this.getName=function(t){return a.days[t]},e?(this.days=e,this):this._setDefault()}return t}();t.DaysClass=e}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(e,a,s){this._setStartDate=function(e){return this.startDate.day=t.Model.DateUtilsClass.getDay(e,this._isUTC),this.startDate.month=t.Model.DateUtilsClass.getMonth(e,this._isUTC),this.startDate.year=t.Model.DateUtilsClass.getYear(e,this._isUTC),this.startDate.datetime=e,this},this._setEndDate=function(e){return this.endDate.day=t.Model.DateUtilsClass.getDay(e,this._isUTC),this.endDate.month=t.Model.DateUtilsClass.getMonth(e,this._isUTC),this.endDate.year=t.Model.DateUtilsClass.getYear(e,this._isUTC),this.endDate.datetime=e,this},this._setNowDate=function(){var e=(new Date).getTime();return this.nowDate.day=t.Model.DateUtilsClass.getDay(e,this._isUTC),this.nowDate.month=t.Model.DateUtilsClass.getMonth(e,this._isUTC),this.nowDate.year=t.Model.DateUtilsClass.getYear(e,this._isUTC),this.nowDate.datetime=e,this},this._isUTC=s,this.startDate={day:null,month:null,year:null,datetime:null},this.endDate={day:null,month:null,year:null,datetime:null},this.nowDate={day:null,month:null,year:null,datetime:null},this._setStartDate(e),this._setEndDate(a),this._setNowDate()}return e.isDateUpperStartLimit=function(t,e){return e?t>e:!0},e.isDateLowerEndLimit=function(t,e){return e?e>t:!0},e.isDateBetweenLimits=function(t,e,a){return this.isDateUpperStartLimit(t,e)&&this.isDateLowerEndLimit(t,a)},e}();e.LimitDatesClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function a(s,i,n,r,d,l,o){this.yearsListDirection="desc",this.monthListDirection="asc",this.daysListDirection="asc",this.isValidNumber=function(t){var e=!isNaN(t),a=isFinite(t);return e&&a},this._getSelected=function(t,a,s){var i,n=t.datetime>a,r=t.datetime===a,d=t.datetime>s,l=t.datetime===s;return i=n||r||d||l?new e.DateModelClass(t.datetime,this._isUTC):n?n?new e.DateModelClass((new Date).getTime(),this._isUTC):new e.DateModelClass(s,this._isUTC):new e.DateModelClass(a,this._isUTC)},this._intArraySort=function(t,e){function a(t,e){return e-t}switch(void 0===e&&(e="asc"),e){default:return t.sort(function(t,e){return t-e});case"desc":return t.sort(a)}},this._getArrayOfNumbers=function(t,e){for(var a=[],s=t;e>=s;s++)a.push(s);return a},this.reloadYearsList=function(){return this.years=this._getYearsList(this._startDateTime,this._endDateTime,this._limitDates,this.yearsListDirection),this},this._getYearsList=function(e,a,s,i){var n=[],r=10,d=s.startDate.year,l=s.endDate.year,o=s.nowDate.year,h=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC),u=h>o?h:o,D=o>h?h:o;return u+=r-1,D-=r-1,e&&a&&a>e?n=this._getArrayOfNumbers(d,l):e&&a&&e>a?n=this._getArrayOfNumbers(l,d):e&&a&&e===a?n=this._getArrayOfNumbers(d,l):e&&!a?n=this._getArrayOfNumbers(d,u):!e&&a?s.endDate.year>=s.nowDate.year?n=D-r>l-r?this._getArrayOfNumbers(D,l):this._getArrayOfNumbers(l-(r-1),l):s.endDate.year>s.nowDate.year&&(n=this._getArrayOfNumbers(l-(r-1),l)):e||a||(n=this._getArrayOfNumbers(D,u)),this._intArraySort(n,i)},this.reloadMonthList=function(){var e=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC);return this.month=this._getMonthList(this._startDateTime,this._endDateTime,this._limitDates,e,this.monthListDirection),this},this._getMonthList=function(t,e,a,s,i){var n,r=0,d=11;if(t||e){var l=t?a.startDate.year===s:!1,o=e?a.endDate.year===s:!1,h=t?a.startDate.month:r,u=e?a.endDate.month:d;n=l&&o?this._getArrayOfNumbers(h,u):l&&!o?this._getArrayOfNumbers(h,d):!l&&o?this._getArrayOfNumbers(r,u):this._getArrayOfNumbers(r,d)}else n=this._getArrayOfNumbers(r,d);return this._intArraySort(n,i)},this.reloadDaysList=function(){var e=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC),a=t.Model.DateUtilsClass.getMonth(this.selected.datetime,this._isUTC);return this.days=this._getDaysList(this._startDateTime,this._endDateTime,this._limitDates,e,a,this.daysListDirection),this},this._getDaysList=function(t,e,s,i,n,r){var d,l=1,o=a.getDaysInMonth(n,i);if(t||e){var h=t?s.startDate.year===i:!1,u=e?s.endDate.year===i:!1,D=t?s.startDate.month===n:!1,c=e?s.endDate.month===n:!1,m=h&&D,y=u&&c,g=t?s.startDate.day:l,f=e?s.endDate.day:o;d=m&&y?this._getArrayOfNumbers(g,f):m&&!y?this._getArrayOfNumbers(g,o):!m&&y?this._getArrayOfNumbers(l,f):this._getArrayOfNumbers(l,o)}else d=this._getArrayOfNumbers(l,o);return this._intArraySort(d,r)},this._getIntArr=function(t){return t||0===t?t?this._getIntArr(t-1).concat(t):[]:void 0};var h=this;s.datetime=h.isValidNumber(s.datetime)?s.datetime:null,i=h.isValidNumber(i)?i:null,n=h.isValidNumber(n)?n:null,h._isUTC=r,h.selected=h._getSelected(s,i,n);var u=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC),D=t.Model.DateUtilsClass.getMonth(this.selected.datetime,this._isUTC);return h.yearsListDirection=d||h.yearsListDirection,h.monthListDirection=l||h.monthListDirection,h.daysListDirection=o||h.daysListDirection,h._limitDates=new e.LimitDatesClass(i,n,this._isUTC),h._startDateTime=i,h._endDateTime=n,h.years=h._getYearsList(i,n,h._limitDates,h.yearsListDirection),h.month=h._getMonthList(i,n,h._limitDates,u,h.monthListDirection),h.days=h._getDaysList(i,n,h._limitDates,u,D,h.daysListDirection),this}return a.getDaysInMonth=function(t,e){return new Date(e,t+1,0).getDate()},a}();e.DataClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t.getVal=function(t,e){var a=new Date(t);return e.call(a)},t.getDay=function(t,e){var a=e?Date.prototype.getUTCDate:Date.prototype.getDate;return this.getVal(t,a)},t.getDayOfWeek=function(t,e){var a=e?Date.prototype.getUTCDay:Date.prototype.getDay;return this.getVal(t,a)},t.getYear=function(t,e){var a=e?Date.prototype.getUTCFullYear:Date.prototype.getFullYear;return this.getVal(t,a)},t.getMonth=function(t,e){var a=e?Date.prototype.getUTCMonth:Date.prototype.getMonth;return this.getVal(t,a)},t}();t.DateUtilsClass=e}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(e,a){return this.day=t.Model.DateUtilsClass.getDay(e,this._isUTC),this.dayOfWeek=t.Model.DateUtilsClass.getDayOfWeek(e,this._isUTC),this.month=t.Model.DateUtilsClass.getMonth(e,this._isUTC),this.year=t.Model.DateUtilsClass.getYear(e,this._isUTC),this.datetime=e,this.timezone=new Date(e).getTimezoneOffset(),this._isUTC=a,this}return e.validate=function(t){return!(!t||!t.datetime)},e}();e.DateModelClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";angular.module("angular-pd",["angular-pd.templates"]).directive("pureDatepicker",function(){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdStart:"=?",apdEnd:"=?",apdDayId:"@?",apdMonthId:"@?",apdYearId:"@?",apdDayClasses:"@?",apdMonthClasses:"@?",apdYearClasses:"@?",apdLocalization:"=?",apdIsUtc:"=?"},link:function(e){function a(e,a,s){var i=new Date(s,a,e).getTime();return t.Model.LimitDatesClass.isDateBetweenLimits(i,d.startDateTime,d.endDateTime)||(t.Model.LimitDatesClass.isDateUpperStartLimit(i,d.startDateTime)?t.Model.LimitDatesClass.isDateLowerEndLimit(i,d.endDateTime)||(i=d.endDateTime):i=d.startDateTime),i}function s(a){l.stop(),e.data.selected=new t.Model.DateModelClass(a,e.apdIsUtc),e.ngModel=e.data.selected,l.start(i)}function i(i,n){if(i!==n){var r=t.Model.DateUtilsClass.getDay(i,e.apdIsUtc),d=t.Model.DateUtilsClass.getMonth(i,e.apdIsUtc),l=t.Model.DateUtilsClass.getYear(i,e.apdIsUtc);i=a(r,d,l),s(i),e.data.reloadYearsList(),e.data.reloadMonthList(),e.data.reloadDaysList()}}function n(s){var i,n=t.Model.DateModelClass.validate(s);i=n?s.datetime:(new Date).getTime();var r=t.Model.DateUtilsClass.getDay(i,e.apdIsUtc),d=t.Model.DateUtilsClass.getMonth(i,e.apdIsUtc),l=t.Model.DateUtilsClass.getYear(i,e.apdIsUtc),o=a(r,d,l);return new t.Model.DateModelClass(o,e.apdIsUtc)}function r(a,s,i){e.data=new t.Model.DataClass(a,s,i,e.apdIsUtc),e.ngModel=e.data.selected}e.apdIsUtc=e.apdIsUtc||!1;var d={initDateModel:null,startDateTime:null,endDateTime:null},l={handler:null,start:function(t){l.handler=e.$watch("ngModel.datetime",function(e,a){t&&t(e,a)},!0)},stop:function(){return l.handler(),!0}};e.onDaySelectChanged=function(t){if(t){var i=a(e.data.selected.day,e.data.selected.month,e.data.selected.year);s(i)}},e.onMonthSelectChanged=function(t){if(t||0===t){var i,n=e.data.selected.year,r=e.data.selected.day;i=a(r,t,n),s(i),e.data.reloadDaysList()}},e.onYearSelectChanged=function(t){if(t||0===t){var i=e.data.selected.month,n=e.data.selected.day,r=a(n,i,t);s(r),e.data.reloadMonthList(),e.data.reloadDaysList()}},function(){d.startDateTime=e.apdStart?+e.apdStart:null,d.endDateTime=e.apdEnd?+e.apdEnd:null,d.initDateModel=n(e.ngModel),r(d.initDateModel,d.startDateTime,d.endDateTime);var a=e.apdLocalization||null,s=new t.Model.DaysClass(a),o=new t.Model.MonthClass(a);e.getDayName=s.getName,e.getMonthName=o.getName,l.start(i)}()}}})}(e=t.directive||(t.directive={}))}(apd||(apd={}));
//# sourceMappingURL=angular-pure-datepicker.min.js.map