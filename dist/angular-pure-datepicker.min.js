angular.module("angular-pd.templates",[]).run(["$templateCache",function(t){t.put("apd.html",'<div class=apd_root><select ng-model=data.selected.day ng-options="day for day in data.days" ng-init="data.selected.day = data.days[0]" ng-change=onDaySelectChanged(data.selected.day) id={{::apdDayId}} class="apd_elem apd_select_day apd_select {{::apdDayClasses}}"></select><span title={{getDayOfWeekName(data.selected.dayOfWeek)}} ng-bind=getDayOfWeekShortName(data.selected.dayOfWeek) class="apd_elem apd_day_of_week"></span><select ng-model=data.selected.month ng-options="(month + 1) for month in data.month" ng-init="data.selected.month = data.month[0]" ng-change=onMonthSelectChanged(data.selected.month) id={{::apdMonthId}} class="apd_elem apd_select_month apd_select {{::apdMonthClasses}}"></select><select ng-model=data.selected.year ng-options="year for year in data.years" ng-init="data.selected.year = data.years[0]" ng-change=onYearSelectChanged(data.selected.year) id={{::apdYearId}} class="apd_elem apd_select_year apd_select {{::apdYearClasses}}"></select></div>')}]);var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(a,s){return this instanceof e?(this.name=a,this["short"]=s,this):(t.messages.MessagesFactoryClass.throwWrongInstanceMessage(),new e(a,s))}return e}(),s=function(){function e(a){var s=this;return this.getListOfShorts=function(){for(var t=[],e=0;e<s.list.length;e++){var a=s.list[e];t.push(a["short"])}return t},this.getListOfNames=function(){for(var t=[],e=0;e<s.list.length;e++){var a=s.list[e];t.push(a.name)}return t},this.getDayOfWeekShortName=function(t){return s.shorts[t]},this.getDayOfWeekName=function(t){return s.names[t]},this instanceof e?(this.list=a,this.shorts=this.getListOfShorts(),this.names=this.getListOfNames(),this):(t.messages.MessagesFactoryClass.throwWrongInstanceMessage(),new e(a))}return e}(),n=new s([new a("Sunday","Sun"),new a("Monday","Mon"),new a("Tuesday","Tue"),new a("Wednesday","Wed"),new a("Thursday","Thu"),new a("Friday","Fri"),new a("Saturday","Sat")]);angular.module("angular-pd.datepicker",["angular-pd.templates"]).directive("pureDatepicker",["DateUtilsFactory","MessagesFactory",function(e,a){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdStart:"=?",apdEnd:"=?",apdDayId:"@?",apdMonthId:"@?",apdYearId:"@?",apdDayClasses:"@?",apdMonthClasses:"@?",apdYearClasses:"@?"},link:function(s){function r(){u.initDateModel=i(s.ngModel),u.startDateTime=s.apdStart?+s.apdStart:null,u.endDateTime=s.apdEnd?+s.apdEnd:null,d(u.initDateModel,u.startDateTime,u.endDateTime),s.getDayOfWeekShortName=n.getDayOfWeekShortName,s.getDayOfWeekName=n.getDayOfWeekName}function i(a){var s,n=e.validateModel(a);return s=n?a.datetime:(new Date).getTime(),new t.dateUtils.DateModelClass(s)}function d(t,a,n){s.data=e.getData(t,a,n),s.ngModel=s.data.selected}function o(e){s.data.selected=new t.dateUtils.DateModelClass(e),s.ngModel=s.data.selected}function l(t,e,s){return t&&(e||0===e)&&s||a.throwInvalidParamsMessage(),new Date(s,e,t).getTime()}function h(t,e,a){var n=s.data.getDaysInMonth(e,a);return n>=t}var u={initDateModel:null,startDateTime:null,endDateTime:null};r(),s.onDaySelectChanged=function(t){if(t){var e=l(s.data.selected.day,s.data.selected.month,s.data.selected.year);o(e)}},s.onMonthSelectChanged=function(t){if(t||0===t){var e,a=s.data.selected.year,n=s.data.selected.day;h(n,t,a)||(n=s.data.getDaysInMonth(t,a)),e=l(n,t,a),o(e)}},s.onYearSelectChanged=function(t){if(t||0===t){var e,a=s.data.selected.month,n=s.data.selected.day;h(n,a,t)||(n=s.data.getDaysInMonth(t,t)),e=l(n,a,t),o(e)}}}}}])}(e=t.directive||(t.directive={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(a){if(!(this instanceof e))return t.messages.MessagesFactoryClass.throwWrongInstanceMessage(),new e(a);var s=new Date(a);return this.day=s.getDate(),this.dayOfWeek=s.getDay(),this.month=s.getMonth(),this.year=s.getFullYear(),this.datetime=a,this.timezone=s.getTimezoneOffset(),this}return e}();e.DateModelClass=a;var s=function(){function e(a,s){return this._setStartDate=function(t){return this.startDate.day=new Date(t).getDate(),this.startDate.month=new Date(t).getMonth(),this.startDate.year=new Date(t).getFullYear(),this},this._setEndDate=function(t){return this.endDate.day=new Date(t).getDate(),this.endDate.month=new Date(t).getMonth(),this.endDate.year=new Date(t).getFullYear(),this},this._setNowDate=function(){return this.nowDate.day=(new Date).getDate(),this.nowDate.month=(new Date).getMonth(),this.nowDate.year=(new Date).getFullYear(),this},this instanceof e?(this.startDate={},this.endDate={},this.nowDate={},this._setStartDate(a),this._setEndDate(s),void this._setNowDate()):(t.messages.MessagesFactoryClass.throwWrongInstanceMessage(),new e(a,s))}return e}(),n=function(){function e(n,r,i){if(this.LIST_DIRECTION="desc",this._getSelected=function(t,e,s){var n,r=t.datetime>e,i=t.datetime===e,d=t.datetime>s,o=t.datetime===s;return(r||i)&&(d||o)?n=new a(t.datetime):r||(n=new a(e)),n=new a(r?(new Date).getTime():s)},this._getDefaultDaysList=function(t,e){var a=this.getDaysInMonth(t,e);return this._getIntArr(a)},this._intArraySort=function(t,e){function a(t,e){return e-t}switch(void 0===e&&(e="asc"),e){default:return t.sort(function(t,e){return t-e});case"desc":return t.sort(a)}},this._getArrayOfNumbers=function(t,e){for(var a=[],s=t;e>=s;s++)a.push(s);return a},this._getYearsList=function(e,a){var s=[],n=20;return e&&a&&a>e?s=this._getArrayOfNumbers(this.limitDatesClass.startDate.year,this.limitDatesClass.endDate.year):e&&a&&e>a?(t.messages.MessagesFactoryClass.throwDatesInvertedMessage(),s=this._getArrayOfNumbers(this.limitDatesClass.endDate.year,this.limitDatesClass.startDate.year)):e&&a&&e===a?s=this._getArrayOfNumbers(this.limitDatesClass.startDate.year,this.limitDatesClass.endDate.year):e&&!a?s=this._getArrayOfNumbers(this.limitDatesClass.startDate.year,this.limitDatesClass.nowDate.year):!e&&a?s=this._getArrayOfNumbers(this.limitDatesClass.endDate.year,this.limitDatesClass.endDate.year):e||a||(s=this._getArrayOfNumbers(this.limitDatesClass.nowDate.year-(n-1),this.limitDatesClass.nowDate.year)),this._intArraySort(s,this.LIST_DIRECTION)},this._getMonthList=function(e,a){var s=[];return e&&a&&a>e?s=this._getArrayOfNumbers(this.limitDatesClass.startDate.month,this.limitDatesClass.endDate.month):e&&a&&e>a?(t.messages.MessagesFactoryClass.throwDatesInvertedMessage(),s=this._getArrayOfNumbers(this.limitDatesClass.endDate.month,this.limitDatesClass.startDate.month)):e&&a&&e===a?s=this._getArrayOfNumbers(this.limitDatesClass.startDate.month,this.limitDatesClass.endDate.month):e&&!a?s=this._getArrayOfNumbers(this.limitDatesClass.startDate.month,this.limitDatesClass.nowDate.month):!e&&a&&(s=this._getArrayOfNumbers(this.limitDatesClass.endDate.month,this.limitDatesClass.endDate.month)),this._intArraySort(s,this.LIST_DIRECTION)},this._getIntArr=function(e){return e||0===e?e?this._getIntArr(e-1).concat(e):[]:(t.messages.MessagesFactoryClass.throwInvalidParamsMessage(),null)},this.getDaysInMonth=function(t,e){return new Date(e,t+1,0).getDate()},!(this instanceof e))return t.messages.MessagesFactoryClass.throwWrongInstanceMessage(),new e(n,r,i);var d=this;return d.limitDatesClass=new s(r,i),d.years=d._getYearsList(r,i),d.month=d._getMonthList(r,i),d.selected=d._getSelected(n,r,i),this}return e}();angular.module("angular-pd.date_utils",[]).factory("DateUtilsFactory",function(){var t={getData:function(t,e,a){return new n(t,e,a)},validateModel:function(t){return!(!t||!t.datetime)}};return t})}(e=t.dateUtils||(t.dateUtils={}))}(apd||(apd={})),angular.module("angular-pd",["angular-pd.datepicker","angular-pd.date_utils","angular-pd.messages"]);var apd;!function(t){var e;!function(t){"use strict";var e=function(){function t(){this.messages={wrongInstance:"Class created without 'new', wrong 'this'",invalidParams:"Invalid params",invalidDateModel:"Invalid date model",datesInverted:"Warning! Start date > End date"}}return t.throwDeveloperError=function(t){console.error(t)},t.throwModelValidationMessage=function(t){this.throwDeveloperError(this.messages.invalidDateModel+': error on field "'+t+'+"')},t.throwInvalidParamsMessage=function(){this.throwDeveloperError(this.messages.invalidParams)},t.throwWrongInstanceMessage=function(){this.throwDeveloperError(this.messages.wrongInstance)},t.throwDatesInvertedMessage=function(){this.throwDeveloperError(this.messages.datesInverted)},t}();t.MessagesFactoryClass=e,angular.module("angular-pd.messages",[]).factory("MessagesFactory",function(){return new e})}(e=t.messages||(t.messages={}))}(apd||(apd={}));
//# sourceMappingURL=angular-pure-datepicker.min.js.map