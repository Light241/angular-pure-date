angular.module("angular-pd.templates",[]).run(["$templateCache",function(t){t.put("apd.html",'<div class=apd_root><select ng-model=data.selected.day ng-options="day for day in data.days" ng-init="data.selected.day = data.days[0]" ng-change=onDaySelectChanged(data.selected.day) id={{::apdDayId}} class="apd_elem apd_select_day apd_select {{::apdDayClasses}}"></select><span ng-bind=getDayName(data.selected.dayOfWeek) class="apd_elem apd_day_of_week"></span><select ng-model=data.selected.month ng-options="getMonthName(month) for month in data.month" ng-init="data.selected.month = data.month[0]" ng-change=onMonthSelectChanged(data.selected.month) id={{::apdMonthId}} class="apd_elem apd_select_month apd_select {{::apdMonthClasses}}"></select><select ng-model=data.selected.year ng-options="year for year in data.years" ng-init="data.selected.year = data.years[0]" ng-change=onYearSelectChanged(data.selected.year) id={{::apdYearId}} class="apd_elem apd_select_year apd_select {{::apdYearClasses}}"></select></div>')}]);var apd;!function(t){var e;!function(t){"use strict";var e=function(){function t(){this.messages={wrongClassCreation:"Class created without 'new', wrong 'this'",wrongInstance:"Wrong 'this' instance",invalidParams:"Invalid params",invalidDateModel:"Invalid date model",datesInverted:"Warning! Start date > End date"}}return t.throwDeveloperError=function(t){console.error(t)},t.throwModelValidationMessage=function(e){return this instanceof t?void this.throwDeveloperError(this.messages.invalidDateModel+': error on field "'+e+'+"'):(console.error("Wrong 'this' instance"),!1)},t.throwInvalidParamsMessage=function(){return this instanceof t?void this.throwDeveloperError(this.messages.invalidParams):(console.error("Wrong 'this' instance"),!1)},t.throwWrongClassCreationMessage=function(){return this instanceof t?void this.throwDeveloperError(this.messages.wrongClassCreation):(console.error("Wrong 'this' instance"),!1)},t.throwWrongInstanceMessage=function(){return this instanceof t?void this.throwDeveloperError(this.messages.wrongInstance):(console.error("Wrong 'this' instance"),!1)},t.throwDatesInvertedMessage=function(){return this instanceof t?void this.throwDeveloperError(this.messages.datesInverted):(console.error("Wrong 'this' instance"),!1)},t}();t.MessagesFactoryClass=e}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(a){var s=this;return this._setDefaultWeek=function(){return new e(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])},this.getDayName=function(a){return s instanceof e?s.days[a]:(t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null)},this instanceof e?a?(this.days=a,this):this._setDefaultWeek():(t.Model.MessagesFactoryClass.throwWrongClassCreationMessage(),new e(a))}return e}();e.WeekClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(a,s,n){return this._setStartDate=function(a){return this instanceof e?(this.startDate.day=t.Model.DateUtilsClass.getDay(a,this._isUTC),this.startDate.month=t.Model.DateUtilsClass.getMonth(a,this._isUTC),this.startDate.year=t.Model.DateUtilsClass.getYear(a,this._isUTC),this.startDate.datetime=a,this):(t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),!1)},this._setEndDate=function(a){return this instanceof e?(this.endDate.day=t.Model.DateUtilsClass.getDay(a,this._isUTC),this.endDate.month=t.Model.DateUtilsClass.getMonth(a,this._isUTC),this.endDate.year=t.Model.DateUtilsClass.getYear(a,this._isUTC),this.endDate.datetime=a,this):(t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),!1)},this._setNowDate=function(){if(!(this instanceof e))return t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),!1;var a=(new Date).getTime();return this.nowDate.day=t.Model.DateUtilsClass.getDay(a,this._isUTC),this.nowDate.month=t.Model.DateUtilsClass.getMonth(a,this._isUTC),this.nowDate.year=t.Model.DateUtilsClass.getYear(a,this._isUTC),this.nowDate.datetime=a,this},this instanceof e?(this._isUTC=n,this.startDate={day:null,month:null,year:null,datetime:null},this.endDate={day:null,month:null,year:null,datetime:null},this.nowDate={day:null,month:null,year:null,datetime:null},this._setStartDate(a),this._setEndDate(s),void this._setNowDate()):(t.Model.MessagesFactoryClass.throwWrongClassCreationMessage(),new e(a,s,n))}return e.isDateUpperStartLimit=function(t,e){return e?t>e:!0},e.isDateLowerEndLimit=function(t,e){return e?e>t:!0},e.isDateBetweenLimits=function(t,e,a){return this.isDateUpperStartLimit(t,e)&&this.isDateLowerEndLimit(t,a)},e}();e.LimitDatesClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function a(s,n,i,r,o,l,d){if(this.yearsListDirection="desc",this.monthListDirection="asc",this.daysListDirection="asc",this.isValidNumber=function(t){var e=!isNaN(t),a=isFinite(t);return e&&a},this._getSelected=function(t,a,s){var n,i=t.datetime>a,r=t.datetime===a,o=t.datetime>s,l=t.datetime===s;return n=i||r||o||l?new e.DateModelClass(t.datetime,this._isUTC):i?i?new e.DateModelClass((new Date).getTime(),this._isUTC):new e.DateModelClass(s,this._isUTC):new e.DateModelClass(a,this._isUTC)},this._intArraySort=function(t,e){function a(t,e){return e-t}switch(void 0===e&&(e="asc"),e){default:return t.sort(function(t,e){return t-e});case"desc":return t.sort(a)}},this._getArrayOfNumbers=function(t,e){for(var a=[],s=t;e>=s;s++)a.push(s);return a},this.reloadYearsList=function(){return this instanceof a?(this.years=this._getYearsList(this._startDateTime,this._endDateTime,this._limitDates,this.yearsListDirection),this):(t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null)},this._getYearsList=function(e,s,n,i){if(!(this instanceof a))return t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null;var r=[],o=10,l=n.startDate.year,d=n.endDate.year,h=n.nowDate.year,c=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC),u=c>h?c:h,g=h>c?c:h;return u+=o-1,g-=o-1,e&&s&&s>e?r=this._getArrayOfNumbers(l,d):e&&s&&e>s?(t.Model.MessagesFactoryClass.throwDatesInvertedMessage(),r=this._getArrayOfNumbers(d,l)):e&&s&&e===s?r=this._getArrayOfNumbers(l,d):e&&!s?r=this._getArrayOfNumbers(l,u):!e&&s?n.endDate.year>=n.nowDate.year?r=g-o>d-o?this._getArrayOfNumbers(g,d):this._getArrayOfNumbers(d-(o-1),d):n.endDate.year>n.nowDate.year&&(r=this._getArrayOfNumbers(d-(o-1),d)):e||s||(r=this._getArrayOfNumbers(g,u)),this._intArraySort(r,i)},this.reloadMonthList=function(){if(!(this instanceof a))return t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null;var e=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC);return this.month=this._getMonthList(this._startDateTime,this._endDateTime,this._limitDates,e,this.monthListDirection),this},this._getMonthList=function(e,s,n,i,r){if(!(this instanceof a))return t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null;var o,l=0,d=11;if(e||s){var h=e?n.startDate.year===i:!1,c=s?n.endDate.year===i:!1,u=e?n.startDate.month:l,g=s?n.endDate.month:d;o=h&&c?this._getArrayOfNumbers(u,g):h&&!c?this._getArrayOfNumbers(u,d):!h&&c?this._getArrayOfNumbers(l,g):this._getArrayOfNumbers(l,d)}else o=this._getArrayOfNumbers(l,d);return this._intArraySort(o,r)},this.reloadDaysList=function(){if(!(this instanceof a))return t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null;var e=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC),s=t.Model.DateUtilsClass.getMonth(this.selected.datetime,this._isUTC);return this.days=this._getDaysList(this._startDateTime,this._endDateTime,this._limitDates,e,s,this.daysListDirection),this},this._getDaysList=function(e,s,n,i,r,o){if(!(this instanceof a))return t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null;var l,d=1,h=a.getDaysInMonth(r,i);if(e||s){var c=e?n.startDate.year===i:!1,u=s?n.endDate.year===i:!1,g=e?n.startDate.month===r:!1,D=s?n.endDate.month===r:!1,M=c&&g,m=u&&D,f=e?n.startDate.day:d,y=s?n.endDate.day:h;l=M&&m?this._getArrayOfNumbers(f,y):M&&!m?this._getArrayOfNumbers(f,h):!M&&m?this._getArrayOfNumbers(d,y):this._getArrayOfNumbers(d,h)}else l=this._getArrayOfNumbers(d,h);return this._intArraySort(l,o)},this._getIntArr=function(e){return this instanceof a?e||0===e?e?this._getIntArr(e-1).concat(e):[]:(t.Model.MessagesFactoryClass.throwInvalidParamsMessage(),null):(t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null)},!(this instanceof a))return t.Model.MessagesFactoryClass.throwWrongClassCreationMessage(),new a(s,n,i,r,o,l,d);var h=this;s.datetime=h.isValidNumber(s.datetime)?s.datetime:null,n=h.isValidNumber(n)?n:null,i=h.isValidNumber(i)?i:null,h._isUTC=r,h.selected=h._getSelected(s,n,i);var c=t.Model.DateUtilsClass.getYear(this.selected.datetime,this._isUTC),u=t.Model.DateUtilsClass.getMonth(this.selected.datetime,this._isUTC);return h.yearsListDirection=o||h.yearsListDirection,h.monthListDirection=l||h.monthListDirection,h.daysListDirection=d||h.daysListDirection,h._limitDates=new e.LimitDatesClass(n,i,this._isUTC),h._startDateTime=n,h._endDateTime=i,h.years=h._getYearsList(n,i,h._limitDates,h.yearsListDirection),h.month=h._getMonthList(n,i,h._limitDates,c,h.monthListDirection),h.days=h._getDaysList(n,i,h._limitDates,c,u,h.daysListDirection),this}return a.getDaysInMonth=function(t,e){return new Date(e,t+1,0).getDate()},a}();e.DataClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t.getMonth=function(t,e){var a;return a=e?new Date(t).getUTCMonth():new Date(t).getMonth()},t.getYear=function(t,e){var a;return a=e?new Date(t).getUTCFullYear():new Date(t).getFullYear()},t.getDay=function(t,e){var a;return a=e?new Date(t).getUTCDate():new Date(t).getDate()},t.getDayOfWeek=function(t,e){var a;return a=e?new Date(t).getUTCDay():new Date(t).getDay()},t}();t.DateUtilsClass=e}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(a,s){return this instanceof e?(this.day=t.Model.DateUtilsClass.getDay(a,this._isUTC),this.dayOfWeek=t.Model.DateUtilsClass.getDayOfWeek(a,this._isUTC),this.month=t.Model.DateUtilsClass.getMonth(a,this._isUTC),this.year=t.Model.DateUtilsClass.getYear(a,this._isUTC),this.datetime=a,this.timezone=new Date(a).getTimezoneOffset(),this._isUTC=s,this):(t.Model.MessagesFactoryClass.throwWrongClassCreationMessage(),new e(a,s))}return e.validate=function(t){return!(!t||!t.datetime)},e}();e.DateModelClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";angular.module("angular-pd",["angular-pd.templates"]).directive("pureDatepicker",function(){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdStart:"=?",apdEnd:"=?",apdDayId:"@?",apdMonthId:"@?",apdYearId:"@?",apdDayClasses:"@?",apdMonthClasses:"@?",apdYearClasses:"@?",apdLocalization:"=?",apdIsUtc:"=?"},link:function(e){function a(e,a,s){var n=new Date(s,a,e).getTime();return t.Model.LimitDatesClass.isDateBetweenLimits(n,o.startDateTime,o.endDateTime)||(t.Model.LimitDatesClass.isDateUpperStartLimit(n,o.startDateTime)?t.Model.LimitDatesClass.isDateLowerEndLimit(n,o.endDateTime)||(n=o.endDateTime):n=o.startDateTime),n}function s(a){l.stop(),e.data.selected=new t.Model.DateModelClass(a,e.apdIsUtc),e.ngModel=e.data.selected,l.start(n)}function n(n,i){if(n!==i){var r=t.Model.DateUtilsClass.getDay(n,e.apdIsUtc),o=t.Model.DateUtilsClass.getMonth(n,e.apdIsUtc),l=t.Model.DateUtilsClass.getYear(n,e.apdIsUtc);n=a(r,o,l),s(n),e.data.reloadYearsList(),e.data.reloadMonthList(),e.data.reloadDaysList()}}function i(s){var n,i=t.Model.DateModelClass.validate(s);n=i?s.datetime:(new Date).getTime();var r=t.Model.DateUtilsClass.getDay(n,e.apdIsUtc),o=t.Model.DateUtilsClass.getMonth(n,e.apdIsUtc),l=t.Model.DateUtilsClass.getYear(n,e.apdIsUtc),d=a(r,o,l);return new t.Model.DateModelClass(d,e.apdIsUtc)}function r(a,s,n){e.data=new t.Model.DataClass(a,s,n,e.apdIsUtc),e.ngModel=e.data.selected}e.apdIsUtc=e.apdIsUtc||!1;var o={initDateModel:null,startDateTime:null,endDateTime:null},l={handler:null,start:function(t){l.handler=e.$watch("ngModel.datetime",function(e,a){t&&t(e,a)},!0)},stop:function(){return l.handler?(l.handler(),!0):(t.Model.MessagesFactoryClass.throwInvalidParamsMessage(),!1)}};e.onDaySelectChanged=function(t){if(t){var n=a(e.data.selected.day,e.data.selected.month,e.data.selected.year);s(n)}},e.onMonthSelectChanged=function(t){if(t||0===t){var n,i=e.data.selected.year,r=e.data.selected.day;n=a(r,t,i),s(n),e.data.reloadDaysList()}},e.onYearSelectChanged=function(t){if(t||0===t){var n=e.data.selected.month,i=e.data.selected.day,r=a(i,n,t);s(r),e.data.reloadMonthList(),e.data.reloadDaysList()}},function(){o.startDateTime=e.apdStart?+e.apdStart:null,o.endDateTime=e.apdEnd?+e.apdEnd:null,o.initDateModel=i(e.ngModel),r(o.initDateModel,o.startDateTime,o.endDateTime);var a=e.apdLocalization||null,s=new t.Model.WeekClass(a),d=new t.Model.YearClass(a);e.getDayName=s.getDayName,e.getMonthName=d.getMonthName,l.start(n)}()}}})}(e=t.directive||(t.directive={}))}(apd||(apd={}));var apd;!function(t){var e;!function(e){"use strict";var a=function(){function e(a){var s=this;return this._setDefaultYear=function(){return new e(["January","February","March","April","May","June","July","August","September","October","November","December"])},this.getMonthName=function(a){return s instanceof e?s.month[a]:(t.Model.MessagesFactoryClass.throwWrongInstanceMessage(),null)},this instanceof e?a?(this.month=a,this):this._setDefaultYear():(t.Model.MessagesFactoryClass.throwWrongClassCreationMessage(),new e(a))}return e}();e.YearClass=a}(e=t.Model||(t.Model={}))}(apd||(apd={}));
//# sourceMappingURL=angular-pure-datepicker.min.js.map