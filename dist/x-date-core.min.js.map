{"version":3,"sources":["x-date-core.js"],"names":["xDateCore","exports","Config","isUtc","monthDirection","daysDirection","yearsDirection","defaultYearsCount","daysList","monthList","CommonUtils","isValidNumber","num","isNumber","isNaN","parseFloat","isNotInfinity","isFinite","getArrayOfNumbers","start","end","isReverse","targetLength","arr","Array","newArr","apply","result","map","d","n","reverse","intArraySort","direction","desc","a","b","DESC","sort","DateUtils","getVal","dt","method","date","Date","call","getDay","prototype","getUTCDate","getDate","getDayOfWeek","getUTCDay","getYear","getUTCFullYear","getFullYear","getMonth","getUTCMonth","getDaysInMonth","month","year","isValidModel","model","Number","isDateUpperStartLimit","isDateLowerEndLimit","isDateBetweenLimits","LimitsModel","_setStart","m","y","this","_setEnd","_setNow","getTime","now","DateModel","dow","tz","getTimezoneOffset","YearsUtils","getYearsList","startDt","endDt","limitsModel","DEFAULT_YEARS_COUNT","selectedYear","latestPossibleYear","firstPossibleYear","MonthUtils","getMonthList","START_MONTH","END_MONTH","isYearOfLowerLimit","isYearOfUpperLimit","DaysUtils","getDaysList","START_DAY","lastDayInMonth","isMonthOfLowerLimit","isMonthOfUpperLimit","isLowerLimit","isUpperLimit","DataClass","_getSelected","isUpperStart","isEqualStart","isLowerEnd","isEqualEnd","_private","_start","_end","_limitDates","selected","list","reloadYearsList","reloadMonthList","reloadDaysList","selectedMonth","module"],"mappings":"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","file":"x-date-core.min.js","sourcesContent":["var xDateCore = (function () {\n\r    var exports = {};\n\rexports.Config = (function () {\n    'use strict';\n\n    return {\n        isUtc: false,\n        monthDirection: 'asc',\n        daysDirection: 'asc',\n        yearsDirection: 'desc',\n        defaultYearsCount: 50,\n        daysList: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        monthList: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n    };\n})();\nexports.CommonUtils = (function () {\n    'use strict';\n\n    var exports = {\n        isValidNumber: function (num) {\n            var isNumber = !isNaN(parseFloat(num));\n            var isNotInfinity = isFinite(num);\n            return isNumber && isNotInfinity;\n        },\n        getArrayOfNumbers: function (start, end) {\n            if (!exports.isValidNumber(start) || !exports.isValidNumber(end)) return [];\n\n            var isReverse = (start > end);\n            var targetLength = isReverse ? (start - end) + 1 : (end - start ) + 1;\n            var arr = new Array(targetLength);\n            var newArr = Array.apply(null, arr);\n            var result = newArr.map(function (d, n) {\n                return (isReverse) ? n + end : n + start;\n            });\n\n            return (isReverse) ? result.reverse() : result;\n        },\n        intArraySort: function (arr, direction) {\n            var DESC = 'desc';\n\n            function desc(a, b) {\n                return b - a;\n            }\n\n            switch (direction) {\n                default:\n                    return arr.sort(function (a, b) {\n                        return a - b;\n                    });\n                case DESC:\n                    return arr.sort(desc);\n            }\n        }\n    };\n\n    return exports;\n})();\nexports.DateUtils = (function (Config) {\n    'use strict';\n\n    function getVal(dt, method) {\n        var date = new Date(+dt);\n        return (date && method) ? method.call(date) : null;\n    }\n\n    var exports = {\n        getDay: function (dt) {\n            var method = (Config.isUtc) ? Date.prototype.getUTCDate : Date.prototype.getDate;\n            return getVal(dt, method);\n        },\n        getDayOfWeek: function (dt) {\n            var method = (Config.isUtc) ? Date.prototype.getUTCDay : Date.prototype.getDay;\n            return getVal(dt, method);\n        },\n        getYear: function (dt) {\n            var method = (Config.isUtc) ? Date.prototype.getUTCFullYear : Date.prototype.getFullYear;\n            return getVal(dt, method);\n        },\n        getMonth: function (dt) {\n            var method = (Config.isUtc) ? Date.prototype.getUTCMonth : Date.prototype.getMonth;\n            return getVal(dt, method);\n        },\n        getDaysInMonth: function (month, year) {\n            var method = (Config.isUtc) ? Date.prototype.getUTCDate : Date.prototype.getDate;\n            return method.call(new Date(+year, (+month) + 1, 0));\n        },\n        isValidModel: function (model) {\n            return !!model && (!!model.dt || model.dt === 0) && !Number.isNaN(+model.dt) && Number.isFinite(+model.dt);\n        },\n        isDateUpperStartLimit: function (dt, start) {\n            if (!start) return true;\n            if ((!dt && dt !== 0) || Number.isNaN(+dt) || Number.isNaN(+start)) throw 'NaN or null';\n            return (+dt > +start);\n        },\n        isDateLowerEndLimit: function (dt, end) {\n            if (!end) return true;\n            if (Number.isNaN(+dt) || Number.isNaN(+end)) throw 'NaN or null';\n            return (+dt < +end);\n        },\n        isDateBetweenLimits: function (dt, start, end) {\n            return (exports.isDateUpperStartLimit(dt, start) && exports.isDateLowerEndLimit(dt, end));\n        }\n    };\n\n\n    return exports;\n})(exports.Config);\nexports.LimitsModel = (function (DateUtils) {\n    'use strict';\n\n    function LimitsModel(start, end) {\n\n        var exports = {\n            start: {},\n            end: {},\n            now: {}\n        };\n\n        function _setStart(dt) {\n            exports.start.d = DateUtils.getDay(dt);\n            exports.start.m = DateUtils.getMonth(dt);\n            exports.start.y = DateUtils.getYear(dt);\n            exports.start.dt = dt;\n            return this;//TODO (S.Panfilov) Possible strict violation\n        }\n\n        function _setEnd(dt) {\n            exports.end.d = DateUtils.getDay(dt);\n            exports.end.m = DateUtils.getMonth(dt);\n            exports.end.y = DateUtils.getYear(dt);\n            exports.end.dt = dt;\n            return this;//TODO (S.Panfilov) Possible strict violation\n        }\n\n        function _setNow() {\n            var dt = new Date().getTime();\n            exports.now.d = DateUtils.getDay(dt);\n            exports.now.m = DateUtils.getMonth(dt);\n            exports.now.y = DateUtils.getYear(dt);\n            exports.now.dt = dt;\n            return this;//TODO (S.Panfilov) Possible strict violation\n        }\n\n        _setStart(start);\n        _setEnd(end);\n        _setNow();\n        \n        return exports;\n    }\n    \n    return LimitsModel;\n})(exports.DateUtils);\nexports.DateModel = (function (DateUtils) {\n    'use strict';\n\n    function DateModel(dt) {\n        this.d = DateUtils.getDay(dt);\n        this.dow = DateUtils.getDayOfWeek(dt);\n        this.m = DateUtils.getMonth(dt);\n        this.y = DateUtils.getYear(dt);\n        this.dt = dt;\n        this.tz = new Date(dt).getTimezoneOffset();\n\n        return this;\n    }\n\n    return DateModel;\n})(exports.DateUtils);\nexports.YearsUtils = (function (DateUtils, CommonUtils, Config) {\n    'use strict';\n\n    return {\n        getYearsList: function (startDt, endDt, model, limitsModel) {\n            var result = [];\n            var DEFAULT_YEARS_COUNT = Config.defaultYearsCount;\n\n            var start = (limitsModel) ? limitsModel.start.y : null;\n            var end = (limitsModel) ? limitsModel.end.y : null;\n            var now = (limitsModel) ? limitsModel.now.y : null;\n            var selectedYear = DateUtils.getYear(model.dt);\n            var latestPossibleYear = (selectedYear > now) ? selectedYear : now;\n            var firstPossibleYear = (selectedYear < now) ? selectedYear : now;\n            latestPossibleYear += (DEFAULT_YEARS_COUNT - 1);\n            firstPossibleYear -= (DEFAULT_YEARS_COUNT - 1);\n\n            //TODO (S.Panfilov) why we use here limitModel's start but not startDt?\n            //TODO (S.Panfilov) Cur work point\n            if ((startDt && endDt) && (startDt < endDt)) { //start = 2011, end = 2014\n                result = CommonUtils.getArrayOfNumbers(start, end);\n            } else if ((startDt && endDt) && (startDt > endDt)) { //start = 2014, end = 2011\n                result = CommonUtils.getArrayOfNumbers(end, start);\n            } else if ((startDt && endDt) && (startDt === endDt)) { //start = 2011, end = 2011\n                result = CommonUtils.getArrayOfNumbers(start, end);\n            } else if (startDt && !endDt) {  //start = 2014, end = null\n                result = CommonUtils.getArrayOfNumbers(start, latestPossibleYear);\n            } else if (!startDt && endDt) {  //start = null, end = 2014\n                if (limitsModel.end.y >= limitsModel.now.y) {  //now = 2013 (or 2014),  end = 2014\n                    if ((firstPossibleYear - DEFAULT_YEARS_COUNT) > (end - DEFAULT_YEARS_COUNT)) {\n                        result = CommonUtils.getArrayOfNumbers(firstPossibleYear, end);\n                    } else {\n                        result = CommonUtils.getArrayOfNumbers(end - (DEFAULT_YEARS_COUNT - 1), end);\n                    }\n                } else if (limitsModel.end.y > limitsModel.now.y) {  //now = 2015,  end = 2014\n                    result = CommonUtils.getArrayOfNumbers(end - (DEFAULT_YEARS_COUNT - 1), end);\n                }\n            } else if (!startDt && !endDt) {  //start = null, end = null\n                result = CommonUtils.getArrayOfNumbers(firstPossibleYear, latestPossibleYear);\n            }\n\n            return CommonUtils.intArraySort(result, Config.yearsDirection);\n        }\n    };\n})(exports.DateUtils, exports.CommonUtils, exports.Config);\nexports.MonthUtils = (function (DateUtils, CommonUtils, Config) {\n    'use strict';\n\n    return {\n        getMonthList: function (startDt, endDt, selectedYear, limitsModel) {\n            var result;\n            var START_MONTH = 0;\n            var END_MONTH = 11;\n\n            if (startDt || endDt) {\n                var isYearOfLowerLimit = (startDt) ? limitsModel.start.y === selectedYear : false;\n                var isYearOfUpperLimit = (endDt) ? limitsModel.end.y === selectedYear : false;\n                var start = (startDt) ? limitsModel.start.m : START_MONTH;\n                var end = (endDt) ? limitsModel.end.m : END_MONTH;\n\n                // startYear == 2015, nowYear == 2015, endYear == 2015\n                if (isYearOfLowerLimit && isYearOfUpperLimit) {\n                    result = CommonUtils.getArrayOfNumbers(start, end);\n                } else if (isYearOfLowerLimit && !isYearOfUpperLimit) {  // startYear == 2015, nowYear == 2015, endYear == 2016 (or null)\n                    result = CommonUtils.getArrayOfNumbers(start, END_MONTH);\n                } else if (!isYearOfLowerLimit && isYearOfUpperLimit) {  // startYear == 2014 (or null), nowYear == 2015, endYear == 2015\n                    result = CommonUtils.getArrayOfNumbers(START_MONTH, end);\n                } else {  // in all other cases return array of 12 month\n                    result = CommonUtils.getArrayOfNumbers(START_MONTH, END_MONTH);\n                }\n            } else {  // in all other cases return array of 12 month\n                result = CommonUtils.getArrayOfNumbers(START_MONTH, END_MONTH);\n            }\n\n            return CommonUtils.intArraySort(result, Config.monthDirection);\n        }\n    };\n})(exports.DateUtils, exports.CommonUtils, exports.Config);\nexports.DaysUtils = (function (DateUtils, CommonUtils, Config) {\n    'use strict';\n\n    return {\n        getDaysList: function (startDt, endDt, year, month, limitsModel) {\n            var result;\n            var START_DAY = 1;\n            var lastDayInMonth = DateUtils.getDaysInMonth(month, year);\n\n            if (startDt || endDt) {\n                var isYearOfLowerLimit = (startDt) ? limitsModel.start.y === year : false;\n                var isYearOfUpperLimit = (endDt) ? limitsModel.end.y === year : false;\n                var isMonthOfLowerLimit = (startDt) ? limitsModel.start.m === month : false;\n                var isMonthOfUpperLimit = (endDt) ? limitsModel.end.m === month : false;\n\n                var isLowerLimit = (isYearOfLowerLimit && isMonthOfLowerLimit);\n                var isUpperLimit = (isYearOfUpperLimit && isMonthOfUpperLimit);\n\n                var start = (startDt) ? limitsModel.start.d : START_DAY;\n                var end = (endDt) ? limitsModel.end.d : lastDayInMonth;\n\n                if (isLowerLimit && isUpperLimit) {\n                    result = CommonUtils.getArrayOfNumbers(start, end);\n                } else if (isLowerLimit && !isUpperLimit) {\n                    result = CommonUtils.getArrayOfNumbers(start, lastDayInMonth);\n                } else if (!isLowerLimit && isUpperLimit) {\n                    result = CommonUtils.getArrayOfNumbers(START_DAY, end);\n                } else {  // in all other cases return array of 12 month\n                    result = CommonUtils.getArrayOfNumbers(START_DAY, lastDayInMonth);\n                }\n            } else {  // in all other cases return array of 12 month\n                result = CommonUtils.getArrayOfNumbers(START_DAY, lastDayInMonth);\n            }\n\n            return CommonUtils.intArraySort(result, Config.daysDirection);\n        }\n    };\n})(exports.DateUtils, exports.CommonUtils, exports.Config);\nexports.DataClass = (function (DateUtils, CommonUtils, YearsUtils, MonthUtils, DaysUtils, DateModel, LimitsModel) {\n    'use strict';\n\n    function _getSelected(model, start, end) {\n        var result;\n\n        var isUpperStart = (model.dt > start);\n        var isEqualStart = (model.dt === start);\n        var isLowerEnd = (model.dt > end);\n        var isEqualEnd = (model.dt === end);\n\n        //start == 1; model == 1 or 2 or 3; end == 3;\n        if ((isUpperStart || isEqualStart) || (isLowerEnd || isEqualEnd)) {\n            result = new DateModel(model.dt);\n        } else if (!isUpperStart) { //start == 1; model == 0\n            result = new DateModel(start);\n        } else if (!isUpperStart) { //model == 4; end == 3;\n            result = new DateModel(end);\n        } else {//paranoid case\n            result = new DateModel(new Date().getTime());\n        }\n\n        return result;\n    }\n\n    return function (model, start, end) {\n\n        var _private = {\n            _start: null,\n            _end: null,\n            _limitDates: null\n        };\n\n        var exports = {\n            selected: {},\n            list: {\n                y: null,\n                m: null,\n                d: null\n            },\n            reloadYearsList: function () {\n                exports.list.y = YearsUtils.getYearsList(_private._start, _private._end);\n                return this;\n            },\n            reloadMonthList: function () {\n                var selectedYear = DateUtils.getYear(exports.selected.dt);\n                exports.list.m = MonthUtils.getMonthList(_private._start, _private._end, selectedYear);\n                return this;\n            },\n            reloadDaysList: function () {\n                var selectedYear = DateUtils.getYear(exports.selected.dt);\n                var selectedMonth = DateUtils.getMonth(exports.selected.dt);\n                exports.list.d = DaysUtils.getDaysList(_private._start, _private._end, selectedYear, selectedMonth);\n                return this;\n            }\n        };\n\n        model.dt = CommonUtils.isValidNumber(model.dt) ? model.dt : null;\n        start = CommonUtils.isValidNumber(start) ? start : null;\n        end = CommonUtils.isValidNumber(end) ? end : null;\n\n        exports.selected = _getSelected(model, start, end);\n        var selectedYear = DateUtils.getYear(exports.selected.dt);\n        var selectedMonth = DateUtils.getMonth(exports.selected.dt);\n\n        _private._limitDates = new LimitsModel(start, end);\n        _private._start = start;\n        _private._end = end;\n\n        exports.list.y = YearsUtils.getYearsList(start, end, exports.selected, _private._limitDates);\n        exports.list.m = MonthUtils.getMonthList(start, end, selectedYear, _private._limitDates);\n        exports.list.d = DaysUtils.getDaysList(start, end, selectedYear, selectedMonth, exports.selected, _private._limitDates);\n\n        return exports;\n    };\n\n})(exports.DateUtils, exports.CommonUtils, exports.YearsUtils, exports.MonthUtils, exports.DaysUtils, exports.DateModel, exports.LimitsModel);\n\r    if (typeof module === 'object' && module.exports) module.exports = exports;\n\r\n\r    return exports;})();"],"sourceRoot":"/source/"}